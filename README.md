# 使用内核线程的Linux内核的Netlink服务器
- 代码仓库
- 此服务器运行在Ubuntu系统，内核版本为`6.5.0-27-generic`，基于NETLINK协议
- 主要实现了基于netlink的通信响应，每次响应的时候都创建一个内核线程（kthread）来执行操作，执行完之后线程自动结束
    - 在内核中，不需要手动的执行`wait`或者是`join`等负责回收工作，内核会自动回收内核线程
    - 可以在需要强行停止的时候执行`kthread_stop()` 函数。该函数会向内核线程发送一个停止请求,并等待线程完全退出。在内核线程函数中,我们可以使用 `kthread_should_stop()` 函数来检查是否收到了停止请求, 检测到该函数返回值为真的时候退出内核线程的工作函数。
